# ActionQueueModal 弹窗

队列管理弹窗，以模态框形式呈现完整行动队列，支持重排、删除或停止行动。

---

## 布局示意

```
┌──────────────────────────────────────────────────┐
│ Queue                    [ 4 items ]              │
├──────────────────────────────────────────────────┤
│ ┌──────────────────────────────────────────────┐ │
│ │ 0 | Mining                 ×∞ | ⏫ ▲ ▼ ⏬ [Stop]│
│ │   | [███████ progress ────────]               │ │
│ └──────────────────────────────────────────────┘ │
│ ┌──────────────────────────────────────────────┐ │
│ │ 1 | Giant Rat             ×10 | ⏫ ▲ ▼ ⏬ [R] │ │
│ └──────────────────────────────────────────────┘ │
│ ┌──────────────────────────────────────────────┐ │
│ │ 2 | Oak Wood              ×25 | ⏫ ▲ ▼ ⏬ [R] │ │
│ └──────────────────────────────────────────────┘ │
│                                                  │
│ ...（可滚动列表，最大高度 384px）                  │
└──────────────────────────────────────────────────┘
```

---

## 弹窗规范

- 弹窗宽度：最小 420px，最大 90% 视口宽度
- 列表高度：最大 384px（max-h-96），超出后滚动
- 标题与计数器：标题下方 border-b-2 border-blue-100，计数器显示"X items"
- 列表项间距：gap-3（约 12px）
- 当前行动背景：蓝色（bg-blue-50），边框蓝色（border-blue-300），hover 时深化为 bg-blue-100
- 排队行动背景：灰色（bg-gray-50），边框灰色（border-gray-200），hover 时深化为 bg-gray-100 且边框变蓝
- 列表项内边距：p-3（约 12px）

---

## 列表项设计

- **当前行动（索引 0）**：蓝色背景（bg-blue-50），边框蓝色（border-blue-300），序号圆点蓝底蓝字
  - 显示技能名称或敌人名称（不含数量前缀）
  - 显示 `×∞` 或 `×N` 格式的数量
  - 仅非战斗行动显示进度条
  - 排序按钮：⏫ 和 ▲ 禁用（当前行动无法上移），▼ 和 ⏬ 仅在队列长度 > 1 时启用
  - 操作按钮：`Stop` 红色按钮

- **排队行动（索引 ≥ 1）**：灰色背景（bg-gray-50），边框灰色（border-gray-200），序号圆点蓝底蓝字
  - 显示技能名称或敌人名称
  - 显示 `×∞` 或 `×N` 格式的数量
  - 不显示进度条
  - 排序按钮：⏫ 和 ▲ 在索引 > 0 时启用，▼ 和 ⏬ 在索引 < 队列长度-1 时启用
  - 操作按钮：`Remove` 红色按钮

---

## 交互规则

- **打开**：仅通过 ActionQueue 的 Queue 按钮进入
- **关闭**：点击背景、关闭图标或完成操作后手动关闭
- **排序**：按钮仅在操作有效时可用；无效操作不给出额外提示，仅保持禁用状态
- **删除**：立即执行，无确认对话框；删除后序号即时重排

---

## 空态与错误处理

- 若无任何行动，弹窗不允许打开
- 若因数据延迟导致弹窗被唤起而无内容，显示"No queued actions"文案，仅保留关闭按钮
